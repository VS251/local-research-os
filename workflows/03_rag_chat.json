{
  "name": "RAG Chat API",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [
        -480,
        -144
      ],
      "id": "a350837d-3a80-4b7c-aaef-7b9a01edf13c",
      "name": "When chat message received",
      "webhookId": "bd2ca9eb-0308-4de0-92a1-b3f9469f8e4d"
    },
    {
      "parameters": {
        "model": "llama3.1:latest",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOllama",
      "typeVersion": 1,
      "position": [
        -272,
        80
      ],
      "id": "86226f05-3c95-4d9c-bc3b-238ee90f536c",
      "name": "Ollama Chat Model",
      "credentials": {
        "ollamaApi": {
          "id": "dNFcTz8GIF8WvYZQ",
          "name": "Ollama account"
        }
      }
    },
    {
      "parameters": {
        "qdrantCollection": {
          "__rl": true,
          "value": "research_papers",
          "mode": "id"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreQdrant",
      "typeVersion": 1.3,
      "position": [
        -80,
        192
      ],
      "id": "ea1a06c6-f9b3-42a3-a203-b2de3500390a",
      "name": "Qdrant Vector Store1",
      "credentials": {
        "qdrantApi": {
          "id": "KkyfJqSiHxQqyWTg",
          "name": "QdrantApi account"
        }
      }
    },
    {
      "parameters": {
        "model": "llama3.1:latest"
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOllama",
      "typeVersion": 1,
      "position": [
        64,
        336
      ],
      "id": "a6116fd3-4a09-4488-8af6-7b4d3ed9fce0",
      "name": "Embeddings Ollama1",
      "credentials": {
        "ollamaApi": {
          "id": "dNFcTz8GIF8WvYZQ",
          "name": "Ollama account"
        }
      }
    },
    {
      "parameters": {
        "options": {
          "systemPromptTemplate": "Use the following context to answer. The context contains the filename labeled as 'SOURCE_FILENAME'. State it.\n----------------\nContext: {context}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.chainRetrievalQa",
      "typeVersion": 1.6,
      "position": [
        -240,
        -144
      ],
      "id": "0135a893-3aa2-4705-911c-b6be390cbd95",
      "name": "Question and Answer Chain"
    },
    {
      "parameters": {
        "topK": 10
      },
      "type": "@n8n/n8n-nodes-langchain.retrieverVectorStore",
      "typeVersion": 1,
      "position": [
        -160,
        32
      ],
      "id": "1d385487-5872-43a6-aa92-3ed7d6991341",
      "name": "Vector Store Retriever"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "Question and Answer Chain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ollama Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Question and Answer Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Qdrant Vector Store1": {
      "ai_vectorStore": [
        [
          {
            "node": "Vector Store Retriever",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Ollama1": {
      "ai_embedding": [
        [
          {
            "node": "Qdrant Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Vector Store Retriever": {
      "ai_retriever": [
        [
          {
            "node": "Question and Answer Chain",
            "type": "ai_retriever",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "c32d5851-8ea2-4282-b9fb-1ff3e56b3f2f",
  "meta": {
    "instanceId": "c5e3f0de7a9cbd50be62bd008c6f7671bc2cddab33b7085b3b411c715b6e5093"
  },
  "id": "FDdMuJocHujiwb6E",
  "tags": []
}